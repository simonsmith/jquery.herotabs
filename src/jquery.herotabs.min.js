/** @cc_on
 * jquery.herotabs
 * version 1.1.0;
 * Requires jQuery 1.9.0 or higher
 * https://github.com/simonsmith/jquery.herotabs
 */
!function(a){"use strict";var b=0,c={delay:0,duration:0,startOn:0,reverse:!1,interactEvent:"click",useHash:!0,useTouch:!0,css:{active:"is-active",current:"tab-current",navCurrent:"tab-nav-current",navId:"tabnav"},selectors:{tab:".js-tab",nav:".js-nav",navItem:".js-nav-item"},zIndex:{bottom:1,middle:2,top:3}},d=function(a){var d=function(a,c){this.container=a,this.options=c,this._currentTab=null,this._timer=null,this._instanceId=++b,this._getDOMElements(),this.nav.length>0&&(this._ariafy(),this._setCurrentNav(),this._attachNavEvents()),this._setInitialTab(c.startOn),this._attachKeyEvents(),c.delay>0&&(this.start(),this._attachHoverEvents()),a.addClass(c.css.active)};d.prototype={constructor:d,showTab:function(a){a="number"!=typeof a?a:this.tab.eq(a);var b=this,c=this._currentTab,d=this.options;return 0==a.length||c.is(a)?this:(this.tab.finish(),a[0].style.zIndex=d.zIndex.middle,a.css("opacity",1),a.show(),c.animate({opacity:0},d.duration,function(){b._setTabVisibilty(a,c)}),b.container.trigger("herotabs.show",b._getEventData(a)),b._currentTab=a,this)},nextTab:function(){var a=this.tab.index(this._currentTab),b=this.tab.eq(a+1);return b=b.length>0?b:this.tab.eq(0),this.showTab(b),this.container.trigger("herotabs.next",this._getEventData(b)),this},prevTab:function(){var a=this.tab.index(this._currentTab),b=this.tab.eq(0==a?-1:a-1);return this.showTab(b),this.container.trigger("herotabs.prev",this._getEventData(b)),this},start:function(){var a=this.options;if(!a.delay)return this;var b=this,c=a.reverse;return this._timer=setInterval(function(){b._navItemHasFocus()||(c?b.prevTab():b.nextTab())},a.delay),this.container.trigger("herotabs.start",this._getEventData(this._currentTab)),this},stop:function(){return clearInterval(this._timer),this.container.trigger("herotabs.stop",this._getEventData(this._currentTab)),this},_getDOMElements:function(){var a=this.options.selectors;for(var b in a)this[b]=this.container.find(a[b])},_setInitialTab:function(a){var b=location.hash&&this.tab.filter(location.hash),c=0==b.length?this.tab.eq(a):b;this._setTabVisibilty(c,this.tab.not(c)),this.container.trigger("herotabs.show",this._getEventData(c)),this._currentTab=c},_setTabVisibilty:function(a,b){var c=this.options,d=c.css,e=c.zIndex;a.addClass(d.current).css("z-index",e.top).attr("aria-hidden",!1).find("a").addBack().attr("tabindex","0"),b.removeClass(d.current).css("z-index",e.bottom).css("opacity",0).hide().attr("aria-hidden",!0).find("a").addBack().attr("tabindex","-1")},_getEventData:function(a){var b=this.tab.index(a);return{currentTab:a,currentTabIndex:b,currentNavItem:this.navItem.eq(b)}},_ariafy:function(){var a=this.options.css.navId+this._instanceId+"-";this.nav[0].setAttribute("role","tablist"),this.navItem.attr("role","presentation").find("a").each(function(b){this.id=a+(b+1),this.setAttribute("role","tab")}),this.tab.each(function(b){this.setAttribute("role","tabpanel"),this.setAttribute("aria-labelledby",a+(b+1))})},_attachHoverEvents:function(){var b=this;this.container.on("mouseenter",function(){b.stop(),a(this).trigger("herotabs.mouseenter",{currentTab:b._currentTab})}),this.container.on("mouseleave",function(){b.start(),a(this).trigger("herotabs.mouseleave",{currentTab:b._currentTab})})},_attachKeyEvents:function(){var a=this;this.nav.on("keydown","a",function(b){switch(b.keyCode){case 37:case 38:a.prevTab();break;case 39:case 40:a.nextTab()}})},_isTouchEnabled:function(){return"ontouchend"in document.documentElement&&this.options.useTouch},_getEventType:function(){var a={hover:"mouseenter",touch:"touchend",click:"click"};return this._isTouchEnabled()?a.touch:a[this.options.interactEvent]},_attachNavEvents:function(){var b=this.nav,c=this._getEventType(),d=this.options,e=this;b.on(c,"a",function(b){e.showTab(a(this).parents(d.selectors.navItem).index()),e._checkUrlIsAnchor(this.href)&&b.preventDefault()})},_isAnchorRegex:/#[A-Za-z0-9-_]+$/,_checkUrlIsAnchor:function(a){return this._isAnchorRegex.test(a)},_navItemHasFocus:function(){return a(document.activeElement).closest(this.container).is(this.container)},_setCurrentNav:function(){var a=this,b=this.options,c=b.css.navCurrent,d=this.navItem;a.container.on("herotabs.show",function(b,e){d.removeClass(c).find("a").each(function(){this.setAttribute("aria-selected","false"),this.setAttribute("tabindex","-1")});var f=d.eq(e.currentTabIndex).addClass(c).find("a");f[0].setAttribute("aria-selected","true"),f[0].setAttribute("tabindex","0"),a._navItemHasFocus()&&f.focus()})}},a.fn.herotabs=function(b){return b=a.extend(!0,{},c,b),this.each(function(){var c=a(this);c.data("herotabs",new d(c,b))})},a.fn.herotabs.defaults=c,a.fn.herotabs.Herotabs=d};"function"==typeof define&&define.amd?define(["jquery"],d):d(a.jQuery)}(this);